### 1、单个HTTP请求合并的资源一定比并行的多个HTTP请求的更快吗？

提高网页请求速度，合并资源减少HTTP请求，是很多前端同学的共识。

其实不然。全面理解HTTP请求的流程及浏览器并行请求差异才能全面的看待这个问题。

##### 首先，HTTP请求是一个复杂的过程。

一个常规的请求历经以下几个流程：

* DNS域名解析 （T1）
* TCP三次握手 （T2）
* 建立TCP连接后发Http请求  （T3）
* 服务器响应请求  （T4）
* 浏览器接收数据并渲染

不考虑阻塞，请求的时间 T = T1 + T2 + T3 + T4；

从这个角度，请求资源越少，请求速度越快。

##### 其次，浏览器本身的缓存机制和请求优化机制加速了多请求的时间消耗。

现代浏览器内部对请求、资源管理、渲染绘制做了很多的优化处理，比如：

* 对已访问的资源提供响应头缓存、本地缓存、DNS缓存，极大减少了T时间消耗。
* HTTP 1.1 keep-alive的特性，一定时间内复用已有TCP连接，所以并不是每个HTTP请求都需要建立新的TCP连接。
* 以Chrome和FireFox为代表额高级浏览器能并行下载多个资源（6~12不等），极大减少了总计时间。

从这个角度，请求资源略多，也没有什么劣势。

##### 再者，资源本身的大小也影响了请求效率。

资源越大，拆分往返的次数可能越大，耗时就越大。

总结（考虑各种网络环境）：

* 小资源（200k内）合并比拆分有优势，主要是因为HTTP请求本身有额外的耗时。
* 中大型资源差异不大，除了浏览器本身的优化、可以忽略的请求额外耗时，再就是拆分资源能更好的利用浏览器缓存，特别是需要更新资源的情况下，更新一个大的资源比更新单独的一个小资源更加耗时。

参考：[合并HTTP请求 vs 并行HTTP请求，到底谁更快？](https://segmentfault.com/a/1190000015665465")

